<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satellite Image Processing - Deforestation Tracking System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='satellite.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-satellite"></i>
                <span>Satellite Processing</span>
            </div>
            <div class="nav-menu">
                <a href="/" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="/satellite" class="nav-link active">
                    <i class="fas fa-satellite"></i>
                    <span>Satellite Processing</span>
                </a>
                <a href="/model-training" class="nav-link">
                    <i class="fas fa-brain"></i>
                    <span>Model Training</span>
                </a>
            </div>
            <div class="nav-user">
                <button class="btn btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <h1><i class="fas fa-satellite"></i> Satellite Image Processing</h1>
                <p>Advanced AI-powered deforestation detection using satellite imagery and machine learning</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <i class="fas fa-images"></i>
                        <span class="stat-value" id="processedImages">0</span>
                        <span class="stat-label">Images Processed</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-tree"></i>
                        <span class="stat-value" id="deforestationDetected">0</span>
                        <span class="stat-label">Deforestation Areas</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-chart-line"></i>
                        <span class="stat-value" id="accuracyRate">0%</span>
                        <span class="stat-label">Detection Accuracy</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Processing Dashboard -->
        <section class="processing-dashboard">
            <!-- Image Upload Section -->
            <div class="dashboard-card upload-section">
                <div class="card-header">
                    <h3><i class="fas fa-upload"></i> Satellite Image Upload</h3>
                    <span class="upload-status" id="uploadStatus">Ready</span>
                </div>
                <div class="upload-content">
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h4>Drop satellite images here or click to browse</h4>
                        <p>Supports: TIF, TIFF, JPG, PNG, BMP (Max: 100MB)</p>
                        <input type="file" id="imageInput" multiple accept=".tif,.tiff,.jpg,.jpeg,.png,.bmp" style="display: none;">
                        <button class="btn btn-primary" onclick="document.getElementById('imageInput').click()">
                            <i class="fas fa-folder-open"></i> Choose Files
                        </button>
                    </div>
                    <div class="upload-progress" id="uploadProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <span class="progress-text" id="progressText">0%</span>
                    </div>
                    <div class="uploaded-files" id="uploadedFiles"></div>
                </div>
            </div>

            <!-- Processing Controls -->
            <div class="dashboard-card processing-controls">
                <div class="card-header">
                    <h3><i class="fas fa-cogs"></i> Processing Controls</h3>
                    <span class="processing-status" id="processingStatus">Idle</span>
                </div>
                <div class="controls-content">
                    <div class="control-group">
                        <h4>Processing Options</h4>
                        <div class="control-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enablePreprocessing" checked>
                                <span>Enable Preprocessing</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableIndices" checked>
                                <span>Calculate Vegetation Indices</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableDetection" checked>
                                <span>Deforestation Detection</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableVisualization" checked>
                                <span>Generate Visualizations</span>
                            </label>
                        </div>
                    </div>
                    <div class="control-group">
                        <h4>Processing Actions</h4>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="processSelectedImages()" id="processBtn">
                                <i class="fas fa-play"></i> Process Selected
                            </button>
                            <button class="btn btn-secondary" onclick="processAllImages()" id="processAllBtn">
                                <i class="fas fa-play-circle"></i> Process All
                            </button>
                            <button class="btn btn-success" onclick="batchProcess()" id="batchBtn">
                                <i class="fas fa-layer-group"></i> Batch Process
                            </button>
                            <button class="btn btn-warning" onclick="clearResults()" id="clearBtn">
                                <i class="fas fa-trash"></i> Clear Results
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Display -->
            <div class="dashboard-card results-section">
                <div class="card-header">
                    <h3><i class="fas fa-chart-bar"></i> Processing Results</h3>
                    <span class="results-count" id="resultsCount">0 Results</span>
                </div>
                <div class="results-content">
                    <div class="results-tabs">
                        <button class="tab-btn active" onclick="showTab('summary')">
                            <i class="fas fa-list"></i> Summary
                        </button>
                        <button class="tab-btn" onclick="showTab('images')">
                            <i class="fas fa-images"></i> Images
                        </button>
                        <button class="tab-btn" onclick="showTab('analysis')">
                            <i class="fas fa-chart-line"></i> Analysis
                        </button>
                        <button class="tab-btn" onclick="showTab('export')">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                    
                    <!-- Summary Tab -->
                    <div class="tab-content active" id="summaryTab">
                        <div class="summary-grid">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-tree"></i>
                                </div>
                                <div class="summary-info">
                                    <h4>Deforestation Detection</h4>
                                    <span class="summary-value" id="deforestationPercentage">0%</span>
                                    <span class="summary-label">Area Affected</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-leaf"></i>
                                </div>
                                <div class="summary-info">
                                    <h4>Vegetation Health</h4>
                                    <span class="summary-value" id="vegetationHealth">0%</span>
                                    <span class="summary-label">Healthy Coverage</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="summary-info">
                                    <h4>Risk Assessment</h4>
                                    <span class="summary-value" id="riskLevel">Low</span>
                                    <span class="summary-label">Current Risk</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="summary-info">
                                    <h4>Processing Time</h4>
                                    <span class="summary-value" id="processingTime">0s</span>
                                    <span class="summary-label">Average Time</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Images Tab -->
                    <div class="tab-content" id="imagesTab">
                        <div class="image-gallery" id="imageGallery">
                            <div class="gallery-placeholder">
                                <i class="fas fa-images"></i>
                                <p>No processed images available</p>
                                <span>Process some images to see results here</span>
                            </div>
                        </div>
                    </div>

                    <!-- Analysis Tab -->
                    <div class="tab-content" id="analysisTab">
                        <div class="analysis-content">
                            <div class="analysis-chart">
                                <canvas id="vegetationChart"></canvas>
                            </div>
                            <div class="analysis-metrics">
                                <h4>Vegetation Indices</h4>
                                <div class="metrics-grid" id="metricsGrid">
                                    <!-- Metrics will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Export Tab -->
                    <div class="tab-content" id="exportTab">
                        <div class="export-content">
                            <div class="export-options">
                                <h4>Export Results</h4>
                                <div class="export-buttons">
                                    <button class="btn btn-primary" onclick="exportResults('json')">
                                        <i class="fas fa-file-code"></i> JSON Report
                                    </button>
                                    <button class="btn btn-primary" onclick="exportResults('csv')">
                                        <i class="fas fa-file-csv"></i> CSV Data
                                    </button>
                                    <button class="btn btn-primary" onclick="exportResults('pdf')">
                                        <i class="fas fa-file-pdf"></i> PDF Report
                                    </button>
                                    <button class="btn btn-success" onclick="downloadImages()">
                                        <i class="fas fa-download"></i> Download Images
                                    </button>
                                </div>
                            </div>
                            <div class="export-history">
                                <h4>Export History</h4>
                                <div class="history-list" id="exportHistory">
                                    <!-- Export history will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Processing Queue -->
        <section class="processing-queue">
            <div class="dashboard-card queue-section">
                <div class="card-header">
                    <h3><i class="fas fa-tasks"></i> Processing Queue</h3>
                    <span class="queue-status" id="queueStatus">0 Pending</span>
                </div>
                <div class="queue-content">
                    <div class="queue-list" id="queueList">
                        <!-- Queue items will be populated here -->
                    </div>
                    <div class="queue-controls">
                        <button class="btn btn-secondary" onclick="pauseQueue()" id="pauseBtn">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button class="btn btn-primary" onclick="resumeQueue()" id="resumeBtn" style="display: none;">
                            <i class="fas fa-play"></i> Resume
                        </button>
                        <button class="btn btn-warning" onclick="clearQueue()" id="clearQueueBtn">
                            <i class="fas fa-trash"></i> Clear Queue
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Processing Modal -->
    <div class="modal" id="processingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cogs"></i> Processing Satellite Images</h3>
            </div>
            <div class="modal-body">
                <div class="processing-steps">
                    <div class="step active" id="step1">
                        <i class="fas fa-upload"></i>
                        <span>Uploading Images</span>
                    </div>
                    <div class="step" id="step2">
                        <i class="fas fa-cog"></i>
                        <span>Preprocessing</span>
                    </div>
                    <div class="step" id="step3">
                        <i class="fas fa-calculator"></i>
                        <span>Calculating Indices</span>
                    </div>
                    <div class="step" id="step4">
                        <i class="fas fa-search"></i>
                        <span>Detection Analysis</span>
                    </div>
                    <div class="step" id="step5">
                        <i class="fas fa-chart-bar"></i>
                        <span>Generating Results</span>
                    </div>
                </div>
                <div class="processing-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="modalProgressFill"></div>
                    </div>
                    <span class="progress-text" id="modalProgressText">0%</span>
                </div>
                <div class="processing-details" id="processingDetails">
                    <!-- Processing details will be shown here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="cancelProcessing()" id="cancelBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='satellite.js') }}"></script>
</body>
</html>
